<div>
    <div ng-controller = "MappingController">
        <form name="mappingForm">
            <fieldset>
                <legend>Mapping the users</legend>

                Password:
                <input type="text" name="password" ng-model="password" size="31" required>
                <i ng-show="mappingForm.password.$error.required">*required</i>
                <br/>

                Status:
                <select name="status"
                        ng-init = "status = currentStatus"
                        ng-model="status"
                        ng-options = "item for item in userStatus">
                </select>
                <br/>
                <table>
                    <tr>
                    <th ng-repeat="field in fields">
                         <select name = "field.name"
                                 ng-init = "field.name = field.default"
                                 ng-model = "field.name"
                                 ng-options = "item for item in keys"
                                 >

                         </select>
                    </th>
                    </tr>
                    <tbody ng-repeat="user in users">

                    <tr ng-if = "users.length < 10 || $index <= 2 || $last" >
                        <td ng-repeat = "field in fields">
                            {{user[$index]||'no data'}}
                        </td>
                    </tr>

                    <tr ng-if = "users.length > 9 && $index == 3">
                        <td colspan="{{fields.length}}">
                            .....
                        </td>
                    </tr>


                    </tbody>
                </table>
                <button ng-click="preview()">Submit</button>
            </fieldset>
        </form>
    </div>
</div>